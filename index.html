<!DOCTYPE html>
<html lang="ru">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>GoTaxi - Альтернатива ЯндексGO</title>
<link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css"/>
<style>
    body { margin:0; font-family: Arial, sans-serif; }
    header { background:#ffcc00; padding:15px; text-align:center; font-size:24px; font-weight:bold; }
    main { display:flex; flex-direction: column; align-items:center; padding:20px; }
    form { background:#fff; padding:20px; border-radius:8px; box-shadow:0 4px 10px rgba(0,0,0,0.1); width:100%; max-width:500px; margin-bottom:20px; }
    label { display:block; margin-bottom:5px; font-weight:bold; }
    select, input, button { width:100%; padding:10px; margin-bottom:15px; border-radius:5px; border:1px solid #ccc; font-size:16px; }
    button { background:#ffcc00; border:none; cursor:pointer; font-weight:bold; }
    button:hover { background:#e6b800; }
    #map { width:100%; height:400px; border-radius:8px; }
</style>
</head>
<body>

<header>GoTaxi - Альтернатива ЯндексGO</header>

<main>
<form id="taxiForm">
    <label for="pickup">Адрес подачи:</label>
    <input type="text" id="pickup" placeholder="Например: ул. Ленина, Калач">

    <label for="dropoff">Адрес назначения:</label>
    <input type="text" id="dropoff" placeholder="Например: ул. Советская, Калач">

    <label for="carType">Тип машины:</label>
    <select id="carType">
        <option value="econom">Эконом</option>
        <option value="business">Бизнес</option>
        <option value="minivan">Минивэн</option>
    </select>

    <button type="submit">Заказать такси</button>
</form>

<div id="map"></div>
</main>

<script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
<script>
// Инициализация карты (центрируем на Калач-на-Дону)
const map = L.map('map').setView([50.3, 43.5], 13); // координаты Калач-на-Дону

// Подключение OpenStreetMap
L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    attribution: '&copy; OpenStreetMap contributors'
}).addTo(map);

// Маркеры для примера
let pickupMarker, dropoffMarker;

document.getElementById('taxiForm').addEventListener('submit', function(e){
    e.preventDefault();

    const pickup = document.getElementById('pickup').value;
    const dropoff = document.getElementById('dropoff').value;
    const carType = document.getElementById('carType').value;

    if(!pickup || !dropoff){
        alert('Пожалуйста, введите оба адреса.');
        return;
    }

    // Простейший расчет стоимости (можно усложнить с реальными расстояниями)
    let cost = 200; // базовая цена
    if(carType==='business') cost += 100;
    if(carType==='minivan') cost += 50;

    alert(`Заказ принят!\nМаршрут: ${pickup} → ${dropoff}\nТип машины: ${carType}\nПримерная стоимость: ${cost}₽`);

    // Добавляем маркеры на карту (рандомные координаты рядом с центром для примера)
    if(pickupMarker) map.removeLayer(pickupMarker);
    if(dropoffMarker) map.removeLayer(dropoffMarker);

    pickupMarker = L.marker([50.3 + Math.random()*0.01, 43.5 + Math.random()*0.01]).addTo(map).bindPopup(`Подача: ${pickup}`).openPopup();
    dropoffMarker = L.marker([50.3 + Math.random()*0.01, 43.5 + Math.random()*0.01]).addTo(map).bindPopup(`Назначение: ${dropoff}`).openPopup();
});
</script>

</body>
</html>
